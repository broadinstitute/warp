<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="alternate" type="application/rss+xml" href="/warp/blog/rss.xml" title="WARP Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/warp/blog/atom.xml" title="WARP Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-181048107-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="WARP" href="/warp/opensearch.xml">
<script>!function(t,h,e,j,s,n){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:2427684,hjsv:6},s=h.getElementsByTagName("head")[0],(n=h.createElement("script")).async=1,n.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,s.appendChild(n)}(window,document)</script><title data-react-helmet="true">Setting default values | WARP</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://broadinstitute.github.io/warp/docs/Best_practices/setting_defaults"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setting default values | WARP"><meta data-react-helmet="true" name="description" content="In WDL, default values are those that allow your workflow to run in the absence of a user-defined attribute. These include primary inputs that you‚Äôve hardcoded to a value, but they can also include inputs that are assigned to dynamically calculated functions (like autosizing functions for setting runtime parameters). If you‚Äôre wondering whether a parameter has a default value or not, just ask yourself, ‚ÄúWill the workflow run if I don‚Äôt specify an attribute in the WDL‚Äôs input JSON?‚Äù"><meta data-react-helmet="true" property="og:description" content="In WDL, default values are those that allow your workflow to run in the absence of a user-defined attribute. These include primary inputs that you‚Äôve hardcoded to a value, but they can also include inputs that are assigned to dynamically calculated functions (like autosizing functions for setting runtime parameters). If you‚Äôre wondering whether a parameter has a default value or not, just ask yourself, ‚ÄúWill the workflow run if I don‚Äôt specify an attribute in the WDL‚Äôs input JSON?‚Äù"><link data-react-helmet="true" rel="shortcut icon" href="/warp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://broadinstitute.github.io/warp/docs/Best_practices/setting_defaults"><link data-react-helmet="true" rel="alternate" href="https://broadinstitute.github.io/warp/docs/Best_practices/setting_defaults" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://broadinstitute.github.io/warp/docs/Best_practices/setting_defaults" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/warp/assets/css/styles.57c5b218.css">
<link rel="preload" href="/warp/assets/js/runtime~main.d7a12008.js" as="script">
<link rel="preload" href="/warp/assets/js/main.7a5a9da0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/warp/"><b class="navbar__title">WARP Pipelines</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/warp/docs/get-started">Documentation</a><a class="navbar__item navbar__link" href="/warp/blog">Blog</a><a href="https://github.com/broadinstitute/warp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/warp/docs/get-started">Welcome to WARP</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About WARP</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">WARP Pipelines</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">WDL Best Practices</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/warp/docs/Best_practices/GC_cost_optimization">WDL cost optimization: Tips and tricks when working with Google Cloud in Terra</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/warp/docs/Best_practices/autosize">Autosizing disk for Google Cloud</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/warp/docs/Best_practices/setting_defaults">Setting default values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/warp/docs/Best_practices/reusing_code">Reusing WDL code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/warp/docs/Best_practices/suggested_formats">WDL formatting tips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/warp/docs/Best_practices/task_execution">Task execution - tips for using the WDL task command section</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Contribution Guide</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Setting default values</h1></header><p>In WDL, default values are those that allow your workflow to run in the absence of a user-defined attribute. These include primary inputs that you‚Äôve hardcoded to a value, but they can also include inputs that are assigned to dynamically calculated functions (<a href="/warp/docs/Best_practices/autosize">like autosizing functions for setting runtime parameters</a>). If you‚Äôre wondering whether a parameter has a default value or not, just ask yourself, ‚ÄúWill the workflow run if I don‚Äôt specify an attribute in the WDL‚Äôs input JSON?‚Äù</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="why-set-up-defaults"></a>Why set up defaults?<a class="hash-link" href="#why-set-up-defaults" title="Direct link to heading">#</a></h2><p>Default values can be used for a variety of reasons. Perhaps you want to hardcode a value because you don‚Äôt want others changing parameters while running the workflow. Or maybe you have standard values, like reference files, that you apply consistently across workflow runs regardless of the data you analyze. Overall, defaults can help ensure a workflow won‚Äôt keel over across different runs and user hands. </p><p>Below, the Broad Pipeline Development team provides some best practices for building flexible workflows with default values.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tip-1-decide-what-kinds-of-inputs-youre-using"></a>Tip 1: Decide what kinds of inputs you‚Äôre using<a class="hash-link" href="#tip-1-decide-what-kinds-of-inputs-youre-using" title="Direct link to heading">#</a></h2><p>Workflows have multiple input types: samples or files that you want to analyze, parameters you want to use to set up runtime environments, dockers that contain your software, or inputs that are specific to the type of samples you&#x27;re analyzing, like experimental parameters, information about species, age, etc. When thinking about setting defaults, you might want to consider what inputs change regularly (like sample files that you‚Äôre trying to analyze), or those that stay consistent (like reference data if you‚Äôre primarily using a particular species). In general, consistent values are good candidates to set to a default value.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tip-2-decide-if-default-values-should-be-modifiable"></a>Tip 2: Decide if default values should be modifiable<a class="hash-link" href="#tip-2-decide-if-default-values-should-be-modifiable" title="Direct link to heading">#</a></h2><p>While it makes sense to hardcode inputs to a default value if the inputs are consistent, you might still want to build in flexibility to allow those inputs to be modified. Consider scenarios where other workflow users might need to change a default value, but that change won‚Äôt necessarily break the workflow. For example, maybe you primarily run your workflow on mouse data using mouse reference files, but your workflow tasks and tools work equally well with human data. In this case, it makes sense to hardcode some input values to reflect mouse analysis, but also to provide flexibility for someone who wants to do human analysis.</p><p>In contrast, there are some inputs that might be necessary for the workflow to appropriately run, like runtime parameters that set up computational environments. For example, docker image inputs are one type of parameter that could break the pipeline if changed. You‚Äôll often see docker file paths listed as configurable input in the workflow definition. If the wrong docker image is used, it might make the workflow fail, or worse, cause a security concern. These kinds of inputs should not be easily modified from an accompanying JSON file. When possible, the Pipeline Development team recommends that you hardcode paths to docker images into the task runtime attributes. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tip-3-know-which-inputs-can-be-modified-with-a-json"></a>Tip 3: Know which inputs can be modified with a JSON<a class="hash-link" href="#tip-3-know-which-inputs-can-be-modified-with-a-json" title="Direct link to heading">#</a></h2><p>Now that we‚Äôve considered our different input types, let‚Äôs review which inputs can be modified, meaning they can be specified with an accompanying input JSON. Modifiable inputs include those that are in the workflow definition‚Äôs input section AND inputs in a task‚Äôs input section when you allow for <a href="https://github.com/openwdl/wdl/blob/main/versions/1.1/SPEC.md#computing-call-inputs" target="_blank" rel="noopener noreferrer">nested inputs</a>. You can allow nested inputs by using the boolean flag <code>allowNestedInputs</code> in your workflow(s) definition‚Äôs meta section. This allows you to set up task-level inputs from your WDL‚Äôs input JSON.  While this feature works with Cromwell and in the bioinformatics platform Terra, you should note that it‚Äôs not fully supported, so use it with caution.</p><p>Inputs that can‚Äôt be modified are those that are outside of the workflow definition inputs section or those that are in the task inputs when nested inputs are not allowed. Keep this information in mind when you have inputs that you don‚Äôt want others to easily modify.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tip-4-define-modifiable-defaults-at-the-highest-workflow-level"></a>Tip 4: Define modifiable defaults at the highest workflow level<a class="hash-link" href="#tip-4-define-modifiable-defaults-at-the-highest-workflow-level" title="Direct link to heading">#</a></h2><p>Once you‚Äôve considered your inputs and decided which ones should have default values, you‚Äôll need to decide where in the workflow (the workflow definition or task) you want to specify the defaults. The Pipeline Development team recommends that you define defaults at the highest workflow level that makes sense, keeping in mind whether you want task inputs to be modifiable. For example, if you want to set a modifiable default value for an input reference file, assign the file to its file path in the workflow definition and pass the corresponding variable into the tasks using the workflow definition call sections. Using defaults at the highest level means that if you need to change the default value, you won‚Äôt have to do it for each individual task.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="resources"></a>Resources<a class="hash-link" href="#resources" title="Direct link to heading">#</a></h2><ul><li><a href="https://github.com/openwdl/wdl/blob/main/versions/1.1/SPEC.md#computing-call-inputs" target="_blank" rel="noopener noreferrer">Nested inputs description</a></li></ul></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/broadinstitute/warp/edit/develop/website/docs/Best_practices/setting_defaults.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_">Last updated on <b><time datetime="2023-06-26T14:14:29.000Z">6/26/2023</time></b> by <b>ekiernan</b></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/warp/docs/Best_practices/autosize"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Autosizing disk for Google Cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/warp/docs/Best_practices/reusing_code"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reusing WDL code ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-set-up-defaults" class="table-of-contents__link">Why set up defaults?</a></li><li><a href="#tip-1-decide-what-kinds-of-inputs-youre-using" class="table-of-contents__link">Tip 1: Decide what kinds of inputs you‚Äôre using</a></li><li><a href="#tip-2-decide-if-default-values-should-be-modifiable" class="table-of-contents__link">Tip 2: Decide if default values should be modifiable</a></li><li><a href="#tip-3-know-which-inputs-can-be-modified-with-a-json" class="table-of-contents__link">Tip 3: Know which inputs can be modified with a JSON</a></li><li><a href="#tip-4-define-modifiable-defaults-at-the-highest-workflow-level" class="table-of-contents__link">Tip 4: Define modifiable defaults at the highest workflow level</a></li><li><a href="#resources" class="table-of-contents__link">Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/warp/docs/get-started">Get Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Guide and Policy</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/warp/docs/contribution/README">Contribution Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/warp/privacy">Privacy</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/warp/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/broadinstitute/warp/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Changelog</a></li><li class="footer__item"><a href="https://github.com/broadinstitute/warp" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Copyright ¬© Data Sciences Platform, Broad Institute.</div></div></div></footer></div>
<script src="/warp/assets/js/runtime~main.d7a12008.js"></script>
<script src="/warp/assets/js/main.7a5a9da0.js"></script>
</body>
</html>